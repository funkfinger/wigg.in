I".<p>working on storing files to Amazon’s S3 web service. Here’s what I’ve come up with so far:</p>

<pre lang="ruby" line="1">
require 'aws/s3'
def aws_connect
  @aws_connect ||= AWS::S3::Base.establish_connection!(
    :access_key_id=&gt;AWS_KEY,
    :secret_access_key=&gt;AWS_SECRET
  )
end

def aws_upload(file,bucket=AWS_BUCKET)
  aws_connect
  AWS::S3::S3Object.store(file,open(file),bucket)
end
</pre>

<p>then a:</p>

<pre lang="ruby" line="1">
aws_upload('test.txt')
</pre>

<p>Will upload the the file to the Amazon bucket. Pretty simple.</p>
:ET